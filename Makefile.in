## change the following variables to fit your system:
DOXYGEN = doxygen

SUBDIRS = external/udis86-1.7 instcode testapps src tools
BLACKLIST = scripts/inputlist/autogen-system.func

include VERSION
DISTDIR = PEBIL-$(PEBIL_FULL_VER)

.PHONY: subdirs $(SUBDIRS)

# specify some dependencies in case of parallel make
tools: src external/udis86-1.7
install: tools

all: subdirs blacklist

subdirs: $(SUBDIRS)

$(SUBDIRS): 
	$(MAKE) -C $@ 

clean:
	$(MAKE) -C external/udis86-1.7 clean
	$(MAKE) -C src clean
	$(MAKE) -C testapps clean
	$(MAKE) -C instcode clean
	$(MAKE) -C tools clean
	rm -rf $(BLACKLIST)

install:
	$(MAKE) -C src install
	$(MAKE) -C tools install
	$(MAKE) -C instcode install

depend:
	$(MAKE) -C src depend
	$(MAKE) -C tools depend

check:
	$(MAKE) -C testapps check

docs:
	doxygen

blacklist: $(BLACKLIST)
$(BLACKLIST):
	scripts/blacklist.sh > $(BLACKLIST)
