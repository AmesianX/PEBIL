This document contains a basic outline for how to install the
PEBIL binary instrumentation package. Direct any questions or
comments to michaell@sdsc.edu

1. System Requirements

Operating System        Linux
Binary Format           Elf
Architecture            ia32 or x86_64


2. set up environment

You will need to set the following variables (assuming the installation is
at /path/to/PEBIL/):

bash:
export PEBIL_ROOT=/path/to/PEBIL
export PATH=${PATH}:${PEBIL_ROOT}/bin:${PEBIL_ROOT}/scripts
export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${PEBIL_ROOT}/lib

csh:
setenv PEBIL_ROOT /path/to/PEBIL/
setenv PATH ${PATH}:${PEBIL_ROOT}/bin:${PEBIL_ROOT}/scripts
setenv LD_LIBRARY_PATH ${LD_LIBRARY_PATH}:${PEBIL_ROOT}/lib


3. PEBIL can be built using either autoconf configure script and the
resulting makefile or with cmake. 
3a. Option 1: run the configure script. The mpi compiler detection is currently 
pretty weak so setting the MPICC variable might be helpful. Some other
useful flags might be to use --enable-mpi=no if you don't want MPI
support or --enable-static=yes if your system doesn't support shared
libraries.

$ ./configure [MPICC=...] [--enable-mpi=no] [--enable-static=yes]

 b. Options 2: run cmake. If you use this option you will also need to
    configure/build the udis library.

$ cmake .
$ cd external/udis86-1.7
$ ./configure; make
$ cd -

4. build

$ make
$ make install

The install target installs things to /path/to/PEBIL/lib/ and 
/path/to/PEBIL/bin/.


5. run PEBIL
Details on how to run:
pebil --help

Examples:
pebil --typ jbb --app testapps/dynTest.gnu
pebil --lib lib --typ ide src/pebil
pebil --typ crp --trk $PEBIL_ROOT/scripts/inputlist/test.wrap --app cg.A.8
